# Coolify Staging environment template.
# Copy to `.env.staging.local` for pre-deployment validation.

# --- Required secrets ---
POSTGRES_PASSWORD=${POSTGRES_PASSWORD:?ERROR: POSTGRES_PASSWORD is required}
RABBITMQ_PASSWORD=${RABBITMQ_PASSWORD:?ERROR: RABBITMQ_PASSWORD is required}
MINIO_SECRET_KEY=${MINIO_SECRET_KEY:?ERROR: MINIO_SECRET_KEY is required}
GEMINI_API_KEY=${GEMINI_API_KEY:?ERROR: GEMINI_API_KEY is required}

# --- Recommended overrides ---
POSTGRES_USER=${POSTGRES_USER:-admin}
POSTGRES_DB=${POSTGRES_DB:-eeg_data}
POSTGRES_HOST=${POSTGRES_HOST:-db}
POSTGRES_PORT=${POSTGRES_PORT:-5432}

RABBITMQ_USER=${RABBITMQ_USER:-guest}
RABBITMQ_HOST=${RABBITMQ_HOST:-rabbitmq}
RABBITMQ_PORT=${RABBITMQ_PORT:-5672}
# Allow limited management UI exposure for staging debugging.
RABBITMQ_MGMT_PORT=${RABBITMQ_MGMT_PORT:-15672}

MINIO_ENDPOINT=${MINIO_ENDPOINT:-minio}
MINIO_PORT=${MINIO_PORT:-9000}
# MinIO console can remain accessible in staging if required.
MINIO_CONSOLE_PORT=${MINIO_CONSOLE_PORT:-9001}
MINIO_ACCESS_KEY=${MINIO_ACCESS_KEY:-minioadmin}
MINIO_USE_SSL=${MINIO_USE_SSL:-false}
MINIO_RAW_DATA_BUCKET=${MINIO_RAW_DATA_BUCKET:-raw-data}
MINIO_MEDIA_BUCKET=${MINIO_MEDIA_BUCKET:-media}
MINIO_BIDS_EXPORTS_BUCKET=${MINIO_BIDS_EXPORTS_BUCKET:-bids-exports}
MINIO_ERP_MODELS_BUCKET=${MINIO_ERP_MODELS_BUCKET:-erp-models}

NGINX_PORT=${NGINX_PORT:-80}
ERP_SERVICE_PORT=${ERP_SERVICE_PORT:-8001}

DATA_LINKER_QUEUE=${DATA_LINKER_QUEUE:-data_linker_queue}
STIMULUS_ASSET_QUEUE=${STIMULUS_ASSET_QUEUE:-stimulus_asset_queue}
EVENT_CORRECTION_QUEUE=${EVENT_CORRECTION_QUEUE:-event_correction_queue}
BIDS_EXPORT_REQUEST_QUEUE=${BIDS_EXPORT_REQUEST_QUEUE:-bids_export_request_queue}
BIDS_EXPORT_COMPLETION_QUEUE=${BIDS_EXPORT_COMPLETION_QUEUE:-bids_export_completion_queue}

MEDIA_PREFETCH=${MEDIA_PREFETCH:-1}

AUTH_MANAGER_URL=${AUTH_MANAGER_URL:-http://auth_manager:3000}
BIDS_EXPORTER_URL=${BIDS_EXPORTER_URL:-http://bids_exporter:8000}
